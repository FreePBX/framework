2.3.0

- Final release is almost all bug fixes, see change logs in framework
- Changed several categories
- Linked Help tab into online freepbx.org help system

Added in Beta2:
- WARNING:
 amportal has been changed to call freepbx_engine so that the framework can update that
 script if necessary. fop_start, fop_stop and fop_restart has also been added to freepbx_engine
 as new commands. If you are upgrading through install_amp then you will receive all these
 changes. If you were beta testing during Beta1 and were upgraded through the Framework updgade
  you will have to manually update the amportal script that lives under /usr/sbin normally, 
  or run an install_amp upgrade. You can do this by changing to root and copying the file from
  amp_conf/sbin/amportal to /usr/sbin/amportal or where ever your AMPBIN directory is located.
- WARNING:
  ARI split out into several modules. There may be some old ARI modules that are left over since 
  the install script does not to delete the previous modules if they are still there. You can
  look in the install directory under amp_conf/htdocs/recordings/modules to see what gets packaged
  with the install. You can safetly remove any modules not listed there from the install
  directory, typically /var/www/html/recordings/modules is where they would be.
- New Dashboard Index page - shows notifications from the system and vital system statistics
- New Logos and styling
- FOP 0.27 upgrade
- Added CID prefix and description to inbound routes
- Added CW enable/disable to core extensions/users
- Segregated ARI into multiple ARI modules and added CW and DND.
- Removed followme destinations, and changed Core destinations to Extensions, Voicemail and
  Terminate Call. Extensions will go to followme if enabled and present consistent with normal
  dialing behavior. Voicemail can choose busy or unavail. Terminate call included the Hangup and
  related core destinations.
- New notification framework added to allow all notifications and errors to be consolidated
  and used by different systems like the dashboard.
- New crontab manager added to allow modules to install crontab type entries run by the manager.
  Checks hourly and modules can indicate how frequently they want something run. Initially created for
  online update checking.
- Automatic Online Update checks with notification through the dashboard or email.
- Framework updates modified to handle full upgrades using the same upgrades directory to
  apply schema changes. Shared by install_amp.
- FOP upgrading added to Framework
- New FOPRUN variable in amportal.conf, if set to false, FOP won't be started by default
- Added support in amportal.conf for AMPMANAGERPROXY, to use if running with a astmanproxy style proxy
- libfreepbx.install.php split out from install_amp to consolidate common functions needed by framework
- version array removed from install_amp upgrade script, it will now derive the version from the last
  upgrade direcotry and use the upgrade directories to run though the installs.
- added 'hidden' make-links-devel flag to install_amp, to install with symbolic links if running
  out of an svn tree
- retrieve_conf instrumented to provide notifications to the dashboard on failures
- fixed several dependency logic bugs in the online module infastructure
- improved the amportal.conf parser and modified retrieve_conf to use the main parser

Added in Beta1:

- To Get Full Details - look at the SVN logs of changes since the previous
  release. These are only higlights.
- WARNING:
  Removed Follow-Me destinations and changed how 'Core Extension' destinations
  work. This has been an area of confusion and inconsistency. Under all calling
  conditions, if you call someone and they have an enabled Follow-Me, that is
  where the call goes. If not, it goes to their extension. Now the Core destination
  of an extension works the same way. There is no longer a Follow-Me destination
  to choose from. All settings should be migrated automatically.
- WARNING:
  Changed default behavior of Call Waiting state when extensions are created. It is
  now enabled by default (r4175) and you must set ENABLECW=no to keep the preivous
  behavior
- MOVED CORE MODULES to the module repository, meaning they can now be updated online
  like other modules.
- ADDED Framework Module, which provides a facility to update all the rest of FreePBX
  through the Online Module Admin System
- VmX Locater and its intergration with FollowMe. This is a new feature that allows
  each VoiceMail extension to have the option of having a 'personal' IVR so the caller
  can have choices like call them on their cell, optionally try their Follow-Me (which
  can otherwise be disabled), etc. You check the box down with Voicemail and then
  the user controls the rest from the ARI.
- Added enable/disable of Follow-Me without having to delete. In disabled mode, VmX
  can still send calls to Follow-Me.
- ARI control of Follow-Me, VmX Locater, all CF modes, and a handful of other
  ARI bugs addressed. (ARI is still in EOL mode - but since no user portal is ready
  yet, it still servers as a user interface).
- Inbound MoH classes based on DID routing or Direct DID routing.
- Outbound MoH clases based on the outbound route selected.
- New ring strategies for FollowMe and Ringgroups (ringallv2, firstavalable, firstonphone)
- Per-Extension Ring Times to override the global setting in General
- Sipname alias (that can be non-numeric) to provide user friendly sip dialing
  information if you accept annonymous sip calls.
- Internal calling CID Number Masquerading, to allow your internal extension appear
  as a different number when making internal calls. (For example, a support team can
  all masquerade with the number of a queue so that people who call them back call the
  queue instead of their personal extension.
- CWINUSEBUSY=yes/no in amportal.conf, to have calls to an occupied multi-line phone (or
  CW enabled phone) end up in the voicemail busy greeting instead of the unavailable
  greeting.
- Asterisk 1.4 support
- Sqlite3 support (deprecate sqlite2)
- Day/Night Control Module
- Recording Module with playback ability
- Re-Introduced bad-number context, to play friendly message if a bad number is dialed. Added
  from-internal-xfer as TRANSFER_CONTEXT in global variables. This keeps the previous error
  of transfering a user to a bad number and dropping the transfered user into the bad-number
  context.

2.2.3
- #2025 fix bug that blocks the editing of an extension that has a directdid
  with an alert box saying the directdid is already in use.
- #1747 add South Africa indications.
- changed from auto-symlink to auto-copy of agi-bin scripts packaged with a
  module. The symlinks create issues on some systems. To keep the coying from
  overwriting files in the real agi-bin, make them read only permission to
  astersik.
- Fixed several module version dependency checking bugs
- #1841: don't strip '+' from directdid
- added unique unidentifiable tracking id for online system auditing

2.2.2
- To Get Full Details - look at the SVN logs of changes since the previous
  release. These are only higlights.
- WARNING:
  merge ext-did and ext-did-direct all into ext-did context, and create
  new context, ext-did-cacthall when creating an ANY/ANY route. The inclusion
  of ext-did-catchall is in the extensions.conf file so if any customizations
  have been done, make sure this is included.
  The purpose of this change allows directdids specified with the extension
  to properly co-exist with those create with inbound routing. In addition,
  error checking has been added to keep the same did from being used two places.
  However, you can use a did on an extension as a directdid, and then included
  the same did+CID info on inbound routing and that is legal, and will now work
  properly instead of being ignored as was the case in the past.
- WARNING:
  sip.conf file changes that MUST be adopted. The inclusion of sip_registrations.conf
  and sip_registrations_custom.conf have been added to sip.conf. In the past the
  registrations were put at the very top of sip_additional.conf which made it really
  easy to break things if you put a custom sip context into sip_custom.conf.
- javascript warning when users try to use the 'r' option in the
  "Asterisk Outbound Dial command options" of the "General" tab.
- allow the '=' character on the right side of an assignment in the trunk specification
  section. This was a common error propblem if a secret included an '=' sign, for
  instance. There are other settings that require '=' there also.
- fix bug in ringgroups and followme when DND was enabled on the first extension of a
  ringgoup, the others would not be tried. This behavior is correct if the ring
  strategy includes the '-prim' postfix but was doing it to all strategies.
- Added Israel and India Indications to General tab
- Added MailBoxExists and WaitExten asterisk commands to extensions.class.php to enable
  some bug fixes requiring those commands forthcoming to the IVR and Voicemail modules.

2.2.1
- Fix ENUM lookup bug in 2.2.0 - r3546
- Convert MP3 MOH files to SLN (Asterisk Native) format - r3548
- module_install() now returns true for already installed modules - r3569
- Allow null and blank values to be put into astdb - r3576
- don't propogate dnd behavior and not ring other phones if this was not
  a prim mode strategy - r3580
- Apply fix for #1361 (patch #1667), mailbox field not being propogated in in
  deviceanduser mode. - r3584
- Fix typo in extensions.conf, when pushing '0' for oper and not having an
  opereration extension defined, would pass a bad Dial string. - r3585
- added warning on save of trunk if user context left blank and user details
  filled in that details will not be saved #1666 - r3631
- limit rnav width #1647 
  fixed panel displaying extensions over 9999 as trunks - ticket #1710 
  List device technology on page when editing Ticket #1711 
  fixed trunks stripping AMP: which removed ANY occurance of the letters 
  A,M,P,: from the beginning of all trunks, also unified the display on 
  the routing page - partially noted in #1713 
  CFB when dialparties.agi decides not to - offhook, user hits ignore/reject,
  etc. - patch #1681 - (Backport from trunk) r3643 naftali5
- now module_admin works even for "broken" modules, running from every 
  directory  - r3678
- do not display warnings about password when not using mysql/pgsql - r3679 
- make the cdr page links a bit nicer - r3689
- fix typo in sip.conf - r3691
- keep rtone from being set in queues_additional.conf #1635 - r3697
- fix queues retrieve conf bug part of #1659 - r3744

2.2
- IMPORTANT CHANGE - Asterisk 'transfer' featurecode is now defaulted to '##', rather than '#'. 
  This was changed to avoid issues with sending a '#' to an externally called party. Note
  that this is a SIGNIFICANT CHANGE, and you should be aware of it.
- Fixed trunk 'locking' (Never Override CallerID) checkbox to work properly. This allows a
  trunk to restrict outbound CallerID settings to those of the trunk or defined in an
  extensions outboundcid settings. WARNING: THIS WILL BREAK 2.2.0rc1 WORKAROUNDS. The logic
  was reversed, you had to check the box in rc1 to get it to allow such foreign callerid's.
  That was a bug (#1501). By fixing the logic, the behavior is now opposite and you may
  need to go back to your trunks and change it.

2.2
- New Modules: phpagiconf, printextensions, customerdb, inventorydb, announcement, blacklist,
  cidlookup, customerdb, dictate, inventorydb, parking, pbdirectory, phonebook, printextensions,
  speeddials, ZoIP
- New option in amportal.conf for remote backups (as well as significant backup fixes)
- Changed Call Recordings to user MixMontior, better performance and more reliable.
- Fixed prefix lookup to use localcallingguide.com XML interface
- Fix potential security hole in CALLERID(name) and CALLERID(num) (see r2076)
- Redo front end with the new look, Thanks to Steven Fischer for the template
- Using new redirect() call, so the back button on the web browser is usable again
- New module management, including progress of downloads
- Added ability to 'lock' a trunk to only use a specified CID ('KEEPCID' patches)
- Add support for Hebrew (RTL) text formatting
- dialparties.agi now written in PHP
- Went rummaging around through the old sourceforge forums and found some patches
  that had been lost in the move 
- FOP now using the latest version, .26
- Huge number (200+) of minor bug fixes
- Policy change with relation to releases. There is now a 'base' and a 'withmodules'
  package. The 'withmodules' pack is useful for machine that don't have easy internet
   access, and contains all the modules currently available at the time of the release. 
  This is also useful for new installations, too.
- Changed default '#' and '*' features (transfer and disconnect) to '##' and 
  '**'. Note, bugs in asterisk prior to 1.2.13 cause this to misbehave.

*KNOWN ISSUES*

CID Lookup and Pinsets (both modules that hook into Inbound Routes) do not display their changes immediately. After
you change a CID or Pinset, click on the route _again_ - the changes will then be displayed. This is due to how the
old module hooks were being processed, and isn't easily fixable. 

2.1.1
- Rob Thomas (xrobau@gmail.com) takes over stewardship of FreePBX project from Coalescent Systems
- Clean up harmless warnings in recordingcheck (r1927 and r1940)
- SIP Anonymous wasn't working when language was not set to 'en' (r1932)
- Fixed unfortunate loop when more than 10 trunks defined (r1942)
- Voicemail changes weren't immediately visible (r1945)
- Various fixes to clean up parser errors in extensions.conf, and rewrite of a couple of macros (r1949, r1950, r1953, r1957)
- Various minor text cleanups (r1960, r1962)
- Show fatal error message when cannot read /etc/amportal.conf file (r1971)
- Add simple script for A@H users to restore their non-standard modules (r1972)

2.1

- Modules not packacked with FreePBX
- Included interface used to download/install/upgrade modules
- Inbound Routing based on (analog) zap channel (ie: no DID available)
- Russian and Portuguese 
- ModuleHooks system allows modules to interact with eachother
- dialparties completely re-written in PHP - eliminating dep for asterisk-perl
- General Option to allow unauthenticated SIP calls into the system
- Define different "Dial()" options for outbound calls
- Direct DID->Extension config
- New modules, including FeatureCodes, Callback, PinSets, and others

2.0

- AMP is now "FreePBX"
- New module system allows for drop-in functionality
- Requires Asterisk 1.2.x
- All previous AMP functionality ported to new module system
- Added Modules: Conferences, Time Conditions, Asterisk CLI, Online Support 
- GUI improvements
- FOP .24
- ARI 00.08.03 - now with AJAX!
- Outbound Routes can now use an Authenticate Password File
- Queue Static Agents can have penalties applied
- Using native music on hold support - no more mpg123!!
- Default is to use FreePBX database authentication.  New installs create a new user.
- Initial sqlite support!
- Much improved form validation for all modules
- Inbound routes can set ALERT_INFO variable for SIP devices
- Ability to force Emergency Caller ID for devices using an Emergency Outbound Route.

1.10.010

- Tested with Asterisk 1.2 (beta)
- Tested with PHP 5
- Removed all the sound files from AMP archive, instead depend on asterisk-sounds
- Ability to execute a script after applying changes in the AMP interface
  (see amportal.conf in source archive)
- Allow accountcode for IAX devices (again)
- Show custom extensions in FOP
- Allow mailbox setting for device to be set manually (for shared mailboxes)
- HINT extensions are now created for both FIXED and ADHOC devices
- Display AMP version in footer
- Support for remote mysql database
- ARI upgrade adds i18n and user settings
- Remove Play Next option from voicemail options and default to
  play next when deleting or saving voicemails
- Lots'o'bug fixes

1.10.009

- Asterisk Recording Interface (ARI).  ARI is a php interface to Voicemail and monitor recordings. (written by littlejohnconsulting.com)
- Queues can now play a "welcome" message to callers upon joining.
- DID Routes re-written as Inbound Routing.  This allows for DID specific fax emails and call answering options.
- RingGroups now use strategies: Ring All (default), Hunt, Memory Hunt
- Optional separation of Devices and Users (AMPEXTENSIONS option added to amportal.conf).  Devices are endpoints (ie: phones), and can be Fixed to a user, or Adhoc.  Users are extensions, with options like voicemail.  A user can log in to Adhoc devices by dialing *11, and log-off by dialing *12.
- Custom device technology support
- HINT priorities for FIXED devices
- Interface translated to French, German, Italian, Spanish
- FOP .21
- FOP button layout can now be sorted by last name or extension number

1.10.008

- Backup/Restore (schedule and restore backups)
- Extension Call Recording (inbound and outbound calls)
- Queue Call Recording (inbound to agents)
- Custom Trunks (use any Asterisk supported technology as a trunk)
- Remote Agents (join a Queue from any endpoint on a trunk)
- Outbound Route Password (require a password for certain outbound patterns)
- i18n (web interface can now be translated)
- ZAP trunk channels no longer hard-coded in retrieve_op_conf_from_mysql.pl
- *<exten> dials direct to voicemail()

1.10.007

- Added cvs2cl generated ChangeLog (see this for all changes and bug fixes)
- Added AMP Users (multi-department, multi-tenant)
- Added incremental upgrade script (install_amp)
- Use /etc/amportal.conf to tweak AMP to your environement (MySql credentials, web root, ip address, etc).  Apply changes with apply_conf.sh
- New Outbound Routes page to control trunks used for outbound calls based on dial patterns
- LCR using Outbound Routes
- Trunks page redone to support routing, adds dial rules to modify numbers per-trunk before dialing
- ENUM Trunks
- Queues support added
- Support for ZAP extensions
- More voicemail options added
- New AGI-based directory application to support both first and last name lookups and return to operator
- provide customization points for all AMP generated extension contexts.
- Upgrade to Flash Operator Panel 0.20
- Upgrade Asterisk-Stat to v2.0


1.10.006

- Use extensions_custom.conf for customizations.  Sample included.
- Add option to define outbound CallerID on trunks
- Add option to define outbound CallerID for extensions
- Create extensions without voicemail and directory
- Web voicemail (vmail.cgi) will automatically log in users linking from email notication. NOTE: see the new vm_email.inc.template for new URL format
- Add Call-Forward on Busy application (enable: *90<destination>, disable: *91)
- Upgrade FOP to 0.19.  AMP now writes out op_buttons_additional.conf
- Include AMP version on admin welcome page
- Rework extensions admin
- Add 'allow','disallow' settings for SIP and IAX extensions
- Add 'pickupgroup','callgroup' settings for SIP extensions
- Digital Receptionist voice menus can now be named
- Allow custom goto for Call Groups
- Digital Receptionist wizard check for proper format on custom goto
- Fixed bug which limited AMP to 10 Digital Receptionist menus
- Default outbound numbers now dial via a macro
- Increase verbosity of mysql connection errors
- Fixed upload wav for Ditial Receptionist
- Fix Trunks admin so that it writes FOP config

1.10.005

- Add "Advanced Edit" qualify= option for NEWLY created extensions
- Add support for custom applications in Digital Receptionist admin
- Prevent creation of multiple DIALOUTIDS variables in Trunks admin
- Allow for long 'register' sting in Trunks admin (for new installs only)
- Don't allow an extension number to be changed in Extension admin (force delete/re-create extension)
- Fix counter bug in Digital Receptionist admin

1.10.004

- Added Call Group CID Name prefixing
- Renamed parking.conf to features.conf
- Added condition to dialparties.agi that prevents potential pinning of the CPU
- Allow Digital Receptionist voice recordings to be uploaded in AMP admin
- Added new AMP logo
- Added AMP process control script "amportal"
- Write meetme configuration for IAX and SIP extensions
- Added IAX2 and SIP trunking
- Added "DID Routing"

1.10.003

- Added support for IAX clients
- Upgraded to FOP 0.17
